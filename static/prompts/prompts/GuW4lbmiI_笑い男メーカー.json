{
    "author": "ITnavi",
    "name": {
        "zh_Hans": "笑匠生成器",
        "zh_Hant": "笑匠生成器",
        "en": "Laughing Man Maker"
    },
    "prompt": "```markdown\nユーザーがアップロードした画像に対して、dlibを使った顔検出を行い、顔に笑い男のGIF画像を貼り付けて、全体をGIF画像でダウンロードできるようにしてください。\n以下のコードを参考にしてください。\n\n顔検出のコード：\nimport dlib\nimport cv2\nfrom skimage import io\nfrom PIL import Image\n\n# Load the image using skimage\nimage_path = '/mnt/data/resized_image.webp'\nimage = io.imread(image_path)\n\n# Initialize dlib's face detector (HOG-based)\ndetector = dlib.get_frontal_face_detector()\n\n# Detect faces in the image\ndetected_faces = detector(image, 1)\n\n# Let's see if any faces are detected and how many\nnum_faces = len(detected_faces)\nnum_faces, detected_faces\n\n笑い男のマークを貼り付けてGIF画像化するコード：\nfrom PIL import ImageSequence\n\n# Load the Laughing Man gif\nlaughing_man_gif_path = '/mnt/data/img_mark_04.gif'\nlaughing_man_gif = Image.open(laughing_man_gif_path)\n\n# Function to overlay the Laughing Man gif on detected faces\ndef add_laughing_man_to_face(image, face_rectangles, gif):\n    frames = []\n    for frame in ImageSequence.Iterator(gif):\n        # Make frame image\n        frame_image = frame.convert('RGBA')\n        \n        # Create a new image to hold the result\n        result_image = Image.new('RGBA', image.size)\n        # Paste the original image\n        result_image.paste(image, (0, 0))\n\n        for rect in face_rectangles:\n            # Scale the gif frame to the face size\n            frame_resized = frame_image.resize((rect.width(), rect.height()))\n            \n            # Calculate position to paste on the original image\n            position = (rect.left(), rect.top())\n            # Paste the resized gif frame onto the original image\n            result_image.paste(frame_resized, position, frame_resized)\n\n        # Add to frames\n        frames.append(result_image.convert('P', dither=Image.NONE))\n\n    return frames\n\n# Convert the original image to PIL format for processing\npil_image = Image.fromarray(image)\n\n# Call the function to add the Laughing Man gif to all detected faces\nframes = add_laughing_man_to_face(pil_image, detected_faces, laughing_man_gif)\n\n# Save the resulting gif\noutput_gif_path = '/mnt/data/laughing_man_overlay.gif'\nframes[0].save(output_gif_path, save_all=True, append_images=frames[1:], loop=0, duration=laughing_man_gif.info['duration'])\n\noutput_gif_path\n```",
    "homepage": "https://chat.openai.com/g/g-GuW4lbmiI-xiao-inan-meka",
    "avatar": "data:image/webp;base64,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",
    "description": {
        "zh_Hans": "检测用户上传图片中的人脸，并在脸部叠加笑匠标志，生成动态GIF。",
        "zh_Hant": "檢測用戶上傳圖片中的人臉，並在臉部疊加笑匠標誌，生成動態GIF。",
        "en": "Detects faces in user-uploaded images and overlays the Laughing Man logo on the faces, generating an animated GIF."
    },
    "tools": [
        "generate_image",
        "run_script"
    ]
}